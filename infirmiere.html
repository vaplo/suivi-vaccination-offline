<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FlowLab ‚Äì Espace M√©dical</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#16a085" />
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js")
        .then(() => console.log("‚úÖ SW actif"))
        .catch(err => console.error("‚ùå SW error:", err));
    }
  </script>
</head>
<body>
  <header class="top-bar">
    <img src="images/logo.png" alt="FlowLab Logo" class="logo" />
    <h1>FlowLab</h1>
    <h2>Espace M√©dical ‚Äì Suivi et enregistrement</h2>
  </header>

  <main class="container">
    <div style="margin-top: 1rem;">
      <a href="index.html" class="btn">‚¨Ö Retour</a>
    </div>

    <!-- SECTION : Vaccins √† faire aujourd‚Äôhui -->
    <section id="vaccins-jour" class="grid-cards" style="margin-top: 2rem; display: none;"></section>

    <!-- FORMULAIRE ENFANT -->
    <div id="formulaire-enfant" class="formulaire" style="display:none;">
      <h3>üë∂ Formulaire Enfant</h3>
      <input id="nom_complet" placeholder="Nom complet" />
      <label for="date_naissance">Date de naissance</label>
      <input type="date" id="date_naissance" />
      <select id="sexe">
        <option value="">Sexe</option>
        <option>F</option>
        <option>M</option>
      </select>
      <input id="telephone_parent" placeholder="T√©l√©phone du parent" />
      <input id="centre_sante" placeholder="Structure de sant√©" />
      <input id="province" placeholder="Province" />
      <select id="langue_preferee">
        <option value="">Langue pr√©f√©r√©e</option>
        <option value="francais">Fran√ßais</option>
        <option value="lingala">Lingala</option>
        <option value="swahili">Swahili</option>
        <option value="tshiluba">Tshiluba</option>
        <option value="kikongo">Kikongo</option>
      </select>
      <button onclick="enregistrerEnfant()">üì© Envoyer</button>
      <div id="message-enfant"></div>
    </div>

    <!-- FORMULAIRE GROSSESSE -->
    <div id="formulaire-grossesse" class="formulaire" style="display:none;">
      <h3>ü§∞ Formulaire Grossesse</h3>
      <input id="nom_grossesse" placeholder="Nom complet" />
      <input id="telephone_grossesse" placeholder="T√©l√©phone" />
      <input type="number" id="semaines_grossesse" placeholder="Semaines de grossesse" />
      <label for="dpa">Date pr√©vue d‚Äôaccouchement (DPA)</label>
      <input type="date" id="dpa" />
      <input id="centre_sante_grossesse" placeholder="Structure de sant√©" />
      <input id="province_grossesse" placeholder="Province" />
      <select id="langue_preferee_grossesse">
        <option value="">Langue pr√©f√©r√©e</option>
        <option value="francais">Fran√ßais</option>
        <option value="lingala">Lingala</option>
        <option value="swahili">Swahili</option>
        <option value="tshiluba">Tshiluba</option>
        <option value="kikongo">Kikongo</option>
      </select>
      <button onclick="enregistrerGrossesse()">üì© Envoyer</button>
      <div id="message-grossesse"></div>
    </div>

    <!-- Cartes acc√®s formulaires -->
    <div class="grid-cards">
      <div class="card" style="background-image: url('images/enfants.png'); background-size: contain;">
        <h3>Nouvel Enfant</h3>
        <p>Enregistrez un enfant pour g√©n√©rer un calendrier vaccinal personnalis√©.</p>
        <a href="#formulaire-enfant" class="btn">üë∂ Remplir le formulaire</a>
      </div>

      <div class="card" style="background-image: url('images/grossesses.png'); background-size: contain;">
        <h3>Nouvelle Grossesse</h3>
        <p>Ajoutez une femme enceinte pour un suivi pr√©natal automatis√©.</p>
        <a href="#formulaire-grossesse" class="btn">ü§∞ Remplir le formulaire</a>
      </div>
    </div>
  </main>

  <!-- SCRIPT : Vaccins du jour -->
  <script>
    const donneesVaccins = [
      {
        nom: "Amina",
        vaccin: "Rougeole",
        date_prevue: "2025-08-06",
        langue: "francais"
      },
      {
        nom: "Koffi",
        vaccin: "BCG",
        date_prevue: "2025-08-06",
        langue: "francais"
      }
    ];

    function genererMessageIA(nom, vaccin, date, langue) {
      if (langue === "francais") {
        return `Bonjour, veuillez administrer le vaccin <strong>${vaccin}</strong> √† <strong>${nom}</strong> aujourd‚Äôhui (${date}). Ce rappel est essentiel pour assurer sa protection. Merci pour votre engagement.`;
      }
      return "Message non disponible.";
    }

    function afficherVaccinsDuJour() {
      const section = document.getElementById("vaccins-jour");
      if (!section || donneesVaccins.length === 0) return;

      donneesVaccins.forEach(enfant => {
        const card = document.createElement("div");
        card.className = "card";
        card.style.backgroundImage = "url('images/vaccin.png')";
        card.style.backgroundSize = "contain";

        const h3 = document.createElement("h3");
        h3.textContent = enfant.nom;

        const p = document.createElement("p");
        p.innerHTML = genererMessageIA(enfant.nom, enfant.vaccin, enfant.date_prevue, enfant.langue);

        const bouton = document.createElement("button");
        bouton.textContent = "‚úÖ Vaccin fait";
        bouton.className = "btn";
        bouton.onclick = () => alert(`Vaccin "${enfant.vaccin}" marqu√© comme fait pour ${enfant.nom}`);

        card.appendChild(h3);
        card.appendChild(p);
        card.appendChild(bouton);
        section.appendChild(card);
      });

      section.style.display = "grid";
    }

    window.addEventListener("DOMContentLoaded", afficherVaccinsDuJour);
  </script>

  <script src="script.js"></script>
</body>
</html>



