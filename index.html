<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FlowLab</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#16a085" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js")
        .then(() => console.log("âœ… Service Worker actif"))
        .catch(err => console.error("âŒ SW error:", err));
    }

    function appelerWebhook(url) {
      fetch(url)
        .then(() => alert("âœ… RequÃªte envoyÃ©e"))
        .catch(() => alert("âŒ Erreur de connexion"));
    }
  </script>
</head>
<body>
  <header class="top-bar">
    <img src="images/logo.png" alt="FlowLab Logo" class="logo" style="height: 70px;" />
    <h1>FlowLab</h1>
    <h2>SystÃ¨me intelligent dâ€™implÃ©mentation de la vaccination en RDC</h2>
    <p>Accueil du systÃ¨me. Choisissez votre espace selon votre rÃ´le.</p>
  </header>

  <main class="homepage">
    <div class="grid-cards">

      <!-- ğŸ©º Espace MÃ©dical -->
      <div class="card" style="min-height: 480px;">
        <img src="images/espacemedical.png" alt="Espace mÃ©dical" style="width: 100%; max-height: 220px; object-fit: contain;" />
        <h3>Espace MÃ©dical</h3>
        <p>Ajoutez un enfant ou une grossesse. Suivi intelligent, mÃªme hors-ligne.</p>
        <a href="infirmiere.html" class="btn btn-primary">ğŸ©º AccÃ©der Ã  l'espace infirmiÃ¨re</a>
        <button class="btn" onclick="appelerWebhook('https://n8n-automation-server-waz-production.up.railway.app/webhook-test/register-child')">ğŸ‘¶ Tester Enregistrement Enfant</button>
        <button class="btn" onclick="appelerWebhook('https://n8n-automation-server-waz-production.up.railway.app/webhook-test/register-pregnancy')">ğŸ¤° Tester Enregistrement Grossesse</button>
      </div>

      <!-- ğŸ“Š Supervision & retards -->
      <div class="card" style="min-height: 480px;">
        <img src="images/espacesuperviseur.png" alt="Supervision" style="width: 100%; max-height: 220px; object-fit: contain;" />
        <h3>Supervision & retards</h3>
        <p>Statistiques, export, surveillance des soins par structure.</p>
        <a href="superviseur.html" class="btn btn-secondary">ğŸ“Š AccÃ©der Ã  l'espace superviseur</a>
        <button class="btn" onclick="appelerWebhook('https://n8n-automation-server-waz-production.up.railway.app/webhook-test/surveillance-soins')">ğŸ“… Voir Vaccins Ã  faire</button>
        <button class="btn" onclick="appelerWebhook('https://n8n-automation-server-waz-production.up.railway.app/webhook-test/stats-superviseur')">ğŸ“ˆ Voir Statistiques</button>
        <button class="btn" onclick="appelerWebhook('https://n8n-automation-server-waz-production.up.railway.app/webhook-test/suivi-equitable')">ğŸ§­ Suivi Ã©quitable</button>
        <button class="btn" onclick="appelerWebhook('https://n8n-automation-server-waz-production.up.railway.app/webhook-test/export-retards')">ğŸ“¥ Export des retards</button>
        <button class="btn" onclick="appelerWebhook('https://n8n-automation-server-waz-production.up.railway.app/webhook-test/6c2763db-464e-4af1-849e-9eb2d2de30cb')">âœ… Marquer un vaccin fait</button>
      </div>

    </div>
  </main>
</body>
</html>

